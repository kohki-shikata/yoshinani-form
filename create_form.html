<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Create form :: Form vendor</title>
    <link rel="stylesheet" href="assets/css/app.css" />
    <script type="module" src="assets/js/app.js"></script>
</head>

<body>
    <div x-data="alpineCodebehind">
        <x-component-wrapper x-component url="assets/components/header.html"></x-component-wrapper>
        <form id="formData" action="./create_form.php" method="POST" @submit.prevent="postData()">
            <x-component-wrapper x-component url="assets/components/common_settings.html"></x-component-wrapper>
            <x-component-wrapper x-component url="assets/components/add_element.html"></x-component-wrapper>

            <template x-for="(element, index) in formData.formElements">
                  <div>
                    <div class="formElement formInline" :id="'form-element-' + (index + 1)" x-show="element.isInline">
                      <div class="form-type">
                        <dl>
                          <dt>type:</dt>
                          <dd x-text="types.find(item => item.value === element.type).text"></dd>
                        </dl>
                      </div>
                      <div class="form-group">
                        <label :for="'name-' + (index + 1)">name</label>
                        <input type="text" :name="'name-' + (index + 1)" :id="'name-' + (index + 1)" x-model="element.name"/>
                      </div>
                      <div class="form-group">
                        <label :for="'label-' + (index + 1)">label</label>
                        <input type="text" :name="'label-' + (index + 1)" :id="'label-' + (index + 1)" x-model="element.label"/>
                      </div>
                      <div class="form-group">
                        <label :for="'id-' + (index + 1)">id</label>
                        <input type="text" :name="'id-' + (index + 1)" :id="'id-' + (index + 1)" x-model="element.id"/>
                      </div>
                      <div class="form-group">
                        <label :for="'placeholder-' + (index + 1)">placeholder</label>
                        <input type="text" :name="'placeholder-' + (index + 1)" :id="'placeholder-' + (index + 1)" x-model="element.placeholder"/>
                      </div>
                      <div class="form-group">
                        <label :for="'id-' + (index + 1)">value</label>
                        <input type="text" :name="'value-' + (index + 1)" :id="'value-' + (index + 1)" x-model="element.value"/>
                      </div>
                      <div class="form-group">
                        <label :for="'minlength-' + (index + 1)">min length</label>
                        <input type="number" :name="'minlength-' + (index + 1)" :id="'minlength-' + (index + 1)" x-model="element.minlength"/>
                      </div>
                      <div class="form-group">
                        <label :for="'maxlength-' + (index + 1)">max length</label>
                        <input type="number" :name="'maxlength-' + (index + 1)" :id="'maxlength-' + (index + 1)" x-model="element.maxlength"/>
                      </div>
                      <div class="form-group">
                        <label :for="'pattern-' + (index + 1)">validation regex pattern</label>
                        <input type="text" :name="'pattern-' + (index + 1)" :id="'pattern-' + (index + 1)" x-model="element.pattern"/>
                      </div>
                      <div class="form-group">
                        <label :for="'required-' + (index + 1)">is required</label>
                        <input type="checkbox" :name="'required-' + (index + 1)" :id="'required-' + (index + 1)" x-model="element.required" value="1" />
                        <input type="hidden" :name="'required-' + (index + 1)" :id="'required-' + (index + 1)" x-model="element.required" value="0" />
                      </div>
                      <div class="form-group">
                        <label :for="'required-' + (index + 1)">is readonly</label>
                        <input type="checkbox" :name="'readonly-' + (index + 1)" :id="'readonly-' + (index + 1)" x-model="element.readonly" value="1" />
                        <input type="hidden" :name="'readonly-' + (index + 1)" :id="'readonly-' + (index + 1)" x-model="element.readonly" value="0" />
                      </div>
                      <div class="form-group">
                        <label :for="'required-' + (index + 1)">is disabled</label>
                        <input type="checkbox" :name="'disabled-' + (index + 1)" :id="'disabled-' + (index + 1)" x-model="element.disabled" value="1" />
                        <input type="hidden" :name="'disabled-' + (index + 1)" :id="'disabled-' + (index + 1)" x-model="element.disabled" value="0" />
                      </div>
                      <button type="button" @click="removeElement(index)">Remove</button>
                      <span x-text="index + 1"></span>
                    </div>
                    <div class="formElement formInline" :id="'form-element-' + (index + 1)" x-show="element.isHidden">
                      <div class="form-type">
                        <dl>
                          <dt>type:</dt>
                          <dd x-text="types.find(item => item.value === element.type).text"></dd>
                        </dl>
                      </div>
                      <div class="form-group">
                        <label :for="'name-' + (index + 1)">name</label>
                        <input type="text" :name="'name-' + (index + 1)" :id="'name-' + (index + 1)" x-model="element.name"/>
                      </div>
                      <div class="form-group">
                        <label :for="'id-' + (index + 1)">id</label>
                        <input type="text" :name="'id-' + (index + 1)" :id="'id-' + (index + 1)" x-model="element.id"/>
                      </div>
                      <div class="form-group">
                        <label :for="'id-' + (index + 1)">value</label>
                        <input type="text" :name="'value-' + (index + 1)" :id="'value-' + (index + 1)" x-model="element.value"/>
                      </div>
                      <button type="button" @click="removeElement(index)">Remove</button>
                      <span x-text="index + 1"></span>
                    </div>
                    <div class="formElement formTextarea" :id="'form-element-' + (index + 1)" x-show="element.isTextarea">
                      <div class="form-type">
                        <dl>
                          <dt>type:</dt>
                          <dd x-text="types.find(item => item.value === element.type).text"></dd>
                        </dl>
                      </div>
                      <div class="form-group">
                        <label :for="'name-' + (index + 1)">name</label>
                        <input type="text" :name="'name-' + (index + 1)" :id="'name-' + (index + 1)" x-model="element.name"/>
                      </div>
                      <div class="form-group">
                        <label :for="'label-' + (index + 1)">label</label>
                        <input type="text" :name="'label-' + (index + 1)" :id="'label-' + (index + 1)" x-model="element.label"/>
                      </div>
                      <div class="form-group">
                        <label :for="'id-' + (index + 1)">id</label>
                        <input type="text" :name="'id-' + (index + 1)" :id="'id-' + (index + 1)" x-model="element.id"/>
                      </div>
                      <div class="form-group">
                        <label :for="'placeholder-' + (index + 1)">placeholder</label>
                        <textarea :name="'placeholder-' + (index + 1)" :id="'placeholder-' + (index + 1)" x-model="element.placeholder"></textarea>
                      </div>
                      <div class="form-group">
                        <label :for="'value-' + (index + 1)">value</label>
                        <textarea type="text" :name="'value-' + (index + 1)" :id="'value-' + (index + 1)" x-model="element.value"></textarea>
                      </div>
                      <div class="form-group">
                        <label :for="'minlength-' + (index + 1)">min length</label>
                        <input type="number" :name="'minlength-' + (index + 1)" :id="'minlength-' + (index + 1)" x-model="element.minlength"/>
                      </div>
                      <div class="form-group">
                        <label :for="'maxlength-' + (index + 1)">max length</label>
                        <input type="number" :name="'maxlength-' + (index + 1)" :id="'maxlength-' + (index + 1)" x-model="element.maxlength"/>
                      </div>
                      <div class="form-group">
                        <label :for="'inputmode-' + (index + 1)">inputmode</label>
                        <input type="text" :name="'inputmode-' + (index + 1)" :id="'inputmode-' + (index + 1)" x-model="element.inputmode"/>
                      </div>
                      <div class="form-group">
                        <label :for="'rows-' + (index + 1)">rows</label>
                        <input type="number" :name="'rows-' + (index + 1)" :id="'rows-' + (index + 1)" x-model="element.rows"/>
                      </div>
                      <div class="form-group">
                        <label :for="'cols-' + (index + 1)">cols</label>
                        <input type="number" :name="'cols-' + (index + 1)" :id="'cols-' + (index + 1)" x-model="element.rows"/>
                      </div>
                      <div class="form-group">
                        <label :for="'spellcheck-' + (index + 1)">spellcheck</label>
                        <input type="text" :name="'spellcheck-' + (index + 1)" :id="'spellcheck-' + (index + 1)" x-model="element.spellcheck"/>
                      </div>
                      <div class="form-group">
                        <label :for="'wrap-' + (index + 1)">wrap</label>
                        <input type="text" :name="'wrap-' + (index + 1)" :id="'wrap-' + (index + 1)" x-model="element.wrap"/>
                      </div>
                      <div class="form-group">
                        <label :for="'required-' + (index + 1)">is required</label>
                        <input type="checkbox" :name="'required-' + (index + 1)" :id="'required-' + (index + 1)" x-model="element.required" value="1" />
                        <input type="hidden" :name="'required-' + (index + 1)" :id="'required-' + (index + 1)" x-model="element.required" value="0" />
                      </div>
                      <div class="form-group">
                        <label :for="'readonly-' + (index + 1)">is readonly</label>
                        <input type="checkbox" :name="'readonly-' + (index + 1)" :id="'readonly-' + (index + 1)" x-model="element.readonly" value="1" />
                        <input type="hidden" :name="'readonly-' + (index + 1)" :id="'readonly-' + (index + 1)" x-model="element.readonly" value="0" />
                      </div>
                      <div class="form-group">
                        <label :for="'disabled-' + (index + 1)">is disabled</label>
                        <input type="checkbox" :name="'disabled-' + (index + 1)" :id="'disabled-' + (index + 1)" x-model="element.disabled" value="1" />
                        <input type="hidden" :name="'disabled-' + (index + 1)" :id="'disabled-' + (index + 1)" x-model="element.disabled" value="0" />
                      </div>
                      <button type="button" @click="removeElement(index)">Remove</button>
                      <span x-text="index + 1"></span>
                    </div>
                    <div class="formElement formSingleSelect" :id="'form-element-' + (index + 1)" x-show="element.isMultiple">
                      <div class="form-type">
                        <dl>
                          <dt>type:</dt>
                          <dd x-text="types.find(item => item.value === element.type).text"></dd>
                        </dl>
                      </div>
                      <div class="form-group">
                        <label :for="'name-' + (index + 1)">name</label>
                        <input type="text" :name="'name-' + (index + 1)" :id="'name-' + (index + 1)" x-model="element.name"/>
                      </div>
                      <div class="form-group">
                        <label :for="'title-' + (index + 1)">title</label>
                        <input type="text" :name="'title-' + (index + 1)" :id="'title-' + (index + 1)" x-model="element.title"/>
                      </div>
                      <div class="form-group">
                        <label :for="'id-' + (index + 1)">id</label>
                        <input type="text" :name="'id-' + (index + 1)" :id="'id-' + (index + 1)" x-model="element.id"/>
                      </div>
                      <template x-for="(choice, index) in element.choices">
                        <div>
                          <div class="choice-group">
                            <label :for="'label-choice-' + (index + 1)">label</label>
                            <input type="text" :name="'label-choice-' + (index + 1)" :id="'label-choice-' + (index + 1)" x-model="choice.label"/>
                          </div>
                          <div class="choice-group">
                            <label :for="'value-choice-' + (index + 1)">value</label>
                            <input type="text" :name="'value-choice-' + (index + 1)" :id="'value-choice-' + (index + 1)" x-model="choice.value"/>
                          </div>
                          <button type="button" @click="addChoice(element)">Add choice</button>
                          <button type="button" @click="removeChoice(element, index)" x-show="element.choices.length === 1 ? false : true">Remove choice</button>
                        </div>
                      </template>
    </div>
    <div class="formElement formMultiSelect" :id="'form-element-' + (index + 1)" x-show="element.isSelect">
        <div class="form-type">
            <dl>
                <dt>type:</dt>
                <dd x-text="types.find(item => item.value === element.type).text"></dd>
            </dl>
        </div>
        <div class="form-group">
            <label :for="'name-' + (index + 1)">name</label>
            <input type="text" :name="'name-' + (index + 1)" :id="'name-' + (index + 1)" x-model="element.name" />
        </div>
        <div class="form-group">
            <label :for="'label-' + (index + 1)">label</label>
            <input type="text" :name="'title-' + (index + 1)" :id="'label-' + (index + 1)" x-model="element.label" />
        </div>
        <div class="form-group">
            <label :for="'id-' + (index + 1)">id</label>
            <input type="text" :name="'id-' + (index + 1)" :id="'id-' + (index + 1)" x-model="element.id" />
        </div>
        <template x-for="(choice, index) in element.choices">
                        <div>
                          <div class="choice-group">
                            <label :for="'text-choice-' + (index + 1)">text</label>
                            <input type="text" :name="'text-choice-' + (index + 1)" :id="'text-choice-' + (index + 1)" x-model="choice.text"/>
                          </div>
                          <div class="choice-group">
                            <label :for="'value-choice-' + (index + 1)">value</label>
                            <input type="text" :name="'text-choice-' + (index + 1)" :id="'text-choice-' + (index + 1)" x-model="choice.value"/>
                          </div>
                          <button type="button" @click="addChoice(element)">Add choice</button>
                          <button type="button" @click="removeChoice(element, index)" x-show="element.choices.length === 1 ? false : true">Remove choice</button>
                        </div>
                      </template>
    </div>
    </div>
    </template>
    <button type="submit">confirm</button>
    </form>
    <span x-text="JSON.stringify(formData)"></span>
    </div>
    </div>
</body>

</html>